<HTML>
<HEAD>
<TITLE>elvrec(1)</TITLE>
</HEAD>
<BODY>
<H1>elvrec(1)</H1>
<HR>
<PRE>
<B>NAME</B>
     elvrec - Recover the modified version of a file after a crash

<B>SYNOPSIS</B>
     <B>elvrec</B> [<I>preservedfile</I> [<I>newfile</I>]]

<B>DESCRIPTION</B>

     If you're editing a file when <I>elvis</I> dies, the system  crashes,  or  power
     fails,  the  most  recent  version  of  your text will be preserved.  The
     preserved text is stored in a special directory; it  does  NOT  overwrite
     your text file automatically.

     The <I>elvrec</I> program locates the preserved version of  a  given  file,  and
     writes  it  over  the  top  of your text file -- or to a new file, if you
     prefer.  The recovered file will have nearly all of your changes.

     To see a list of all recoverable files, run <I>elvrec</I> with no arguments.

<B>FILES</B>

     /usr/preserve/p*
          The text that was preserved when <I>elvis</I> died.

     /usr/preserve/Index
          A text file which lists the names of all preserved  files,  and  the
          names  of  the  /usr/preserve/p* files which contain their preserved
          text.

<B>BUGS</B>

     <I>elvrec</I> is very picky about filenames.  You must tell it  to  recover  the
     file  using  exactly  the same pathname as when you were editing it.  The
     simplest way to do this is to go into the same directory  that  you  were
     editing,  and  invoke  <I>elvrec</I>  with  the same filename as <I>elvis</I>.  If that
     doesn't work, then try running <I>elvrec</I> with no arguments, to  see  exactly
     which pathname it is using for the desired file.

     Due to the permissions on the /usr/preserve directory,  on  UNIX  systems
     <I>elvrec</I>  must  be  run  as  superuser.  This is accomplished by making the
     <I>elvrec</I> executable be owned by "root" and setting its "set user id" bit.

     If you're editing a nameless buffer when <I>elvis</I>  dies,  then  <I>elvrec</I>  will
     pretend that the file was named "foo".

<B>AUTHOR</B>
     Steve Kirkendall
     kirkenda@cs.pdx.edu


</PRE>
</BODY>
</HTML>
