<HTML>
<HEAD>
<TITLE>directory(3)</TITLE>
</HEAD>
<BODY>
<H1>directory(3)</H1>
<HR>
<PRE>
<B>NAME</B>
     directory, opendir, readdir,  rewinddir,  closedir,  telldir,  seekdir  -
     directory routines

<B>SYNOPSIS</B>
     <B>#include</B> <B>&lt;sys/types.h&gt;</B>
     <B>#include</B> <B>&lt;dirent.h&gt;</B>

     <B>DIR</B> <B>*opendir(const</B> <B>char</B> <B>*</B><I>dirname</I><B>)</B>
     <B>struct</B> <B>dirent</B> <B>*readdir(DIR</B> <B>*</B><I>dirp</I><B>)</B>
     <B>void</B> <B>rewinddir(DIR</B> <B>*</B><I>dirp</I><B>)</B>
     <B>int</B> <B>closedir(DIR</B> <B>*</B><I>dirp</I><B>)</B>

     <B>#define</B> <B>_MINIX</B>  <B>1</B>
     <B>#include</B> <B>&lt;sys/types.h&gt;</B>
     <B>#include</B> <B>&lt;dirent.h&gt;</B>

     <B>long</B> <B>telldir(DIR</B> <B>*</B><I>dirp</I><B>)</B>
     <B>int</B> <B>seekdir(DIR</B> <B>*</B><I>dirp</I><B>,</B> <B>long</B> <I>pos</I><B>)</B>

<B>DESCRIPTION</B>
     These routines form a system independent interface to access directories.

     <B>Opendir()</B> opens the directory <I>dirname</I> and returns a pointer to this  open
     directory stream.

     <B>Readdir()</B> reads one entry from the directory as a pointer to a  structure
     containing  the  field  <B>d_name</B>,  a  character  array containing the null-
     terminated name of the entry.

     <B>Rewinddir()</B> allows the directory to be read again from the beginning.

     <B>Closedir()</B> closes the directory and releases administrative data.

     The Minix specific functions <B>telldir()</B> and <B>seekdir()</B> allow one to get the
     current  position  in  the  directory  file  and  to  return there later.
     <B>Seekdir()</B> may only be called with a position returned by <B>telldir()</B>  or  0
     (rewind).  These functions should not be used in portable programs.

<B>SEE</B> <B>ALSO</B>
     <B><A HREF="../man5/dir.5.html">dir(5)</A></B>.

<B>DIAGNOSTICS</B>
     <B>Opendir()</B> returns a null pointer if <I>dirname</I> can't be  opened,  or  if  it
     can't allocate enough memory for the <B>DIR</B> structure.

     <B>Readdir()</B> returns null if there are  no  more  directory  entries  or  on
     error.


     <B>Closedir()</B> and <B>seekdir()</B> returns 0 on success, -1 on error.

     <B>Telldir()</B> returns -1 on error.

     All of them set <B>errno</B> appropriately.  <B>Readdir()</B> will only  set  <B>errno</B>  on
     error, not on end-of-dir, so you should set <B>errno</B> to zero beforehand, and
     check its value if <B>readdir()</B> returns null.

<B>NOTES</B>
     The return value  of  <B>readdir()</B>  needs  to  be  copied  before  the  next
     operation on the same directory if it is to be saved.

<B>AUTHOR</B>
     Kees J. Bot (kjb@cs.vu.nl)




































</PRE>
</BODY>
</HTML>
