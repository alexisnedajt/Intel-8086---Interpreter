<HTML>
<HEAD>
<TITLE>rename(2)</TITLE>
</HEAD>
<BODY>
<H1>rename(2)</H1>
<HR>
<PRE>
<B>NAME</B>
     rename - change the name of a file

<B>SYNOPSIS</B>
     <B>#include</B> <B>&lt;stdio.h&gt;</B>

     <B>int</B> <B>rename(const</B> <B>char</B> <B>*</B><I>from</I><B>,</B> <B>const</B> <B>char</B> <B>*</B><I>to</I><B>)</B>

<B>DESCRIPTION</B>
     <B>Rename</B> causes the link named <I>from</I> to be renamed as  <I>to</I>.   If  <I>to</I>  exists,
     then  it  is  first  removed.   Both <I>from</I> and <I>to</I> must be of the same type
     (that is, both directories or both non-directories), and must  reside  on
     the same file system.

     <B>Rename</B> guarantees that an instance of <I>to</I> will always exist, even  if  the
     system should crash in the middle of the operation.

     If the final component of <I>from</I> is a symbolic link, the symbolic  link  is
     renamed, not the file or directory to which it points.

<B>RETURN</B> <B>VALUE</B>
     A 0 value is returned if the operation succeeds, otherwise <B>rename</B> returns
     -1 and the global variable <B>errno</B> indicates the reason for the failure.

<B>ERRORS</B>
     <B>Rename</B> will fail and neither of the argument files will  be  affected  if
     any of the following are true:

     [ENAMETOOLONG] A path name exceeds PATH_MAX characters.

     [ENOENT]       A component of the <I>from</I> path does not  exist,  or  a  path
                    prefix of <I>to</I> does not exist.

     [EACCES]       A  component  of  either   path   prefix   denies   search
                    permission.

     [EACCES]       The requested link requires writing in a directory with  a
                    mode that denies write permission.

     [EPERM]        The  directory  containing  <I>from</I>  is  marked  sticky,  and
                    neither the containing directory nor <I>from</I> are owned by the
                    effective user ID.

     [EPERM]        The <I>to</I> file exists, the directory containing <I>to</I> is  marked
                    sticky,  and  neither  the containing directory nor <I>to</I> are
                    owned by the effective user ID.

     [ELOOP]        Too many symbolic links were  encountered  in  translating
                    either pathname.  (Minix-vmd)

     [ENOTDIR]      A component of either path prefix is not a directory.

     [ENOTDIR]      <I>From</I> is a directory, but <I>to</I> is not a directory.

     [EISDIR]       <I>To</I> is a directory, but <I>from</I> is not a directory.

     [EXDEV]        The link named by <I>to</I> and the file named  by  <I>from</I>  are  on
                    different logical devices (file systems).

     [ENOSPC]       The directory in which the entry for the new name is being
                    placed  cannot  be extended because there is no space left
                    on the file system containing the directory.

     [EIO]          An I/O error occurred while making or updating a directory
                    entry.

     [EROFS]        The requested link requires writing in a  directory  on  a
                    read-only file system.

     [EFAULT]       <I>Path</I> points outside the process's allocated address space.

     [EINVAL]       <I>From</I> is a parent directory of <I>to</I>, or an attempt is made to
                    rename ``.'' or ``..''.

     [ENOTEMPTY]    <I>To</I> is a directory and is not empty.

<B>SEE</B> <B>ALSO</B>
     <B><A HREF="../man2/open.2.html">open(2)</A></B>






















</PRE>
</BODY>
</HTML>
