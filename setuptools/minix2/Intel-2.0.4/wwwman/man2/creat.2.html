<HTML>
<HEAD>
<TITLE>creat(2)</TITLE>
</HEAD>
<BODY>
<H1>creat(2)</H1>
<HR>
<PRE>
<B>NAME</B>
     creat - create a new file

<B>SYNOPSIS</B>
     <B>#include</B> <B>&lt;sys/types.h&gt;</B>
     <B>#include</B> <B>&lt;fcntl.h&gt;</B>

     <B>int</B> <B>creat(const</B> <B>char</B> <B>*</B><I>name</I><B>,</B> <B>mode_t</B> <I>mode</I><B>)</B>

<B>DESCRIPTION</B>
     <B>This</B> <B>interface</B> <B>is</B> <B>made</B> <B>obsolete</B> <B>by</B> <B>open(2),</B> <B>it</B> <B>is</B> <B>equivalent</B> <B>to</B>

          open(<I>name</I>, O_WRONLY | O_CREAT | O_TRUNC, <I>mode</I>)

     <B>Creat</B> creates a new file or prepares to rewrite an existing  file  called
     <I>name</I>,  given as the address of a null-terminated string.  If the file did
     not exist, it is given mode <I>mode</I>, as modified by the process's mode  mask
     (see  <B><A HREF="../man2/umask.2.html">umask(2)</A></B>).   Also  see  <B><A HREF="../man2/chmod.2.html">chmod(2)</A></B>  for  the construction of the <I>mode</I>
     argument.

     If the file did exist, its mode and owner  remain  unchanged  but  it  is
     truncated to 0 length.

     The file is also opened for writing, and its file descriptor is returned.

<B>NOTES</B>
     The <I>mode</I> given is arbitrary; it need not allow writing.  This feature has
     been  used  in  the  past  by  programs  to construct a simple, exclusive
     locking mechanism.  It is replaced  by  the  O_EXCL  open  mode,  or  the
     advisory locking of the <B><A HREF="../man2/fcntl.2.html">fcntl(2)</A></B> facility.

<B>RETURN</B> <B>VALUE</B>
     The value -1 is returned if an error occurs.  Otherwise, the call returns
     a non-negative descriptor that only permits writing.

<B>ERRORS</B>
     <I>Creat</I> will fail and the file will not be created or truncated if  one  of
     the following occur:

     [ENOTDIR]      A component of the path prefix is not a directory.

     [ENAMETOOLONG] The path name exceeds PATH_MAX characters.

     [ENOENT]       The named file does not exist.

     [ELOOP]        Too many symbolic links were  encountered  in  translating
                    the pathname.  (Minix-vmd)



     [EACCES]       Search permission is denied for a component  of  the  path
                    prefix.

     [EACCES]       The file does not exist and the directory in which  it  is
                    to be created is not writable.

     [EACCES]       The file exists, but it is unwritable.

     [EISDIR]       The file is a directory.

     [EMFILE]       There are already too many files open.

     [ENFILE]       The system file table is full.

     [ENOSPC]       The directory in which the entry for the new file is being
                    placed  cannot  be extended because there is no space left
                    on the file system containing the directory.

     [ENOSPC]       There are no free inodes on the file system on  which  the
                    file is being created.

     [EROFS]        The named file resides on a read-only file system.

     [ENXIO]        The file is a character special or block special file, and
                    the associated device does not exist.

     [EIO]          An I/O error occurred while making the directory entry  or
                    allocating the inode.

     [EFAULT]       <I>Name</I> points outside the process's allocated address space.

<B>SEE</B> <B>ALSO</B>
     <B><A HREF="../man2/open.2.html">open(2)</A></B>, <B><A HREF="../man2/write.2.html">write(2)</A></B>, <B><A HREF="../man2/close.2.html">close(2)</A></B>, <B><A HREF="../man2/chmod.2.html">chmod(2)</A></B>, <B><A HREF="../man2/umask.2.html">umask(2)</A></B>.

















</PRE>
</BODY>
</HTML>
